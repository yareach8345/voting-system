= Vote System API仕様書 - Election
yareach <mine8345@naver.com>
v1.0, 2024-02-21
:toc: left
:toclevels: 2
:sectnums:
:icons: font
:source-highlighter: highlightjs
:sectlinks:

== 概要
Election - 選挙 +
選挙を初めて人の投票をもらって結果を出すまでの一連のプロセスを意味する。 +
選挙の識別子、状態、開始時間などの選挙に関するデータをあつかる機能の集まり。

== 投票生成
=== Request
include::{snippets}/elections/create/success/http-request.adoc[]
=== Response
==== 200 OK
include::{snippets}/elections/create/success/http-response.adoc[]
**Response Fields**
include::{snippets}/elections/create/success/response-fields.adoc[]
idは選挙が生成されるとき、バックエンド側で生成される。 +
選挙を制御するとき特定するため必要。

== 全ての選挙を取得する。
=== Request
include::{snippets}/elections/find-all/success/http-request.adoc[]
=== Response
==== 200 OK
include::{snippets}/elections/find-all/success/http-response.adoc[]
**Response Fields**
include::{snippets}/elections/find-all/success/response-fields.adoc[]
**注意** データベースに大量の選挙データが保存されている場合、性能上の問題が発生する可能性があります。

== ページングを用いて一部のデータを取得する。
=== Request
include::{snippets}/elections/find-with-paging/success/http-request.adoc[]
**Query Parameters**
include::{snippets}/elections/find-with-paging/success/query-parameters.adoc[]
=== Response
==== 200 OK
include::{snippets}/elections/find-with-paging/success/http-response.adoc[]
==== Response Fields
include::{snippets}/elections/find-with-paging/success/response-fields.adoc[]
==== 400 BAD REQUEST [page に 1 未満の値を指定した場合]
include::{snippets}/elections/find-with-paging/paging-error-page-less-then-1/http-response.adoc[]
==== 400 BAD REQUEST [size に 1 未満の値を指定した場合]
include::{snippets}/elections/find-with-paging/paging-error-size-less-then-1/http-response.adoc[]

== idで一つの選挙を取得する
=== Request
include::{snippets}/elections/find-by-id/success/http-request.adoc[]
**Path Parameters**
include::{snippets}/elections/find-by-id/success/path-parameters.adoc[]
=== Response
==== 200 OK
include::{snippets}/elections/find-by-id/success/http-response.adoc[]
==== Response Fields
include::{snippets}/elections/find-by-id/success/response-fields.adoc[]
==== 404 NOT FOUND [指定したIDの選挙が存在しない場合]
include::{snippets}/elections/find-by-id/election-is-not-found/http-response.adoc[]

== 選挙を削除する
=== Request
include::{snippets}/elections/delete/success/http-request.adoc[]
**Path Parameters**
include::{snippets}/elections/delete/success/path-parameters.adoc[]
=== Response
==== 200 OK
include::{snippets}/elections/delete/success/http-response.adoc[]
==== 404 NOT FOUND [指定したIDの選挙が存在しない場合]
include::{snippets}/elections/delete/election-not-found/http-response.adoc[]

== 投票を開始する。
=== Request [選挙を開始(open)する]
include::{snippets}/elections/change-state/success-open/http-request.adoc[]
**Path Parameters**
include::{snippets}/elections/change-state/success-open/path-parameters.adoc[]
**Request Fields**
include::{snippets}/elections/change-state/success-open/request-fields.adoc[]
=== Response
==== 200 OK
include::{snippets}/elections/change-state/success-open/http-response.adoc[]
==== 404 NOT FOUND [指定したIDの選挙が存在しない場合]
include::{snippets}/elections/change-state/election-not-exists/http-response.adoc[]
==== 400 BAD REQUEST [有効ではない状態に変更しようとした場合]
include::{snippets}/elections/change-state/invalid-election-state/http-response.adoc[]

== 投票を終了する。
=== Request
include::{snippets}/elections/change-state/success-close/http-request.adoc[]
**Path Parameters**
include::{snippets}/elections/change-state/success-open/path-parameters.adoc[]
**Request Fields**
include::{snippets}/elections/change-state/success-open/request-fields.adoc[]
=== Response
==== 200 OK
include::{snippets}/elections/change-state/success-close/http-response.adoc[]
==== 404 NOT FOUND [指定したIDの選挙が存在しない場合]
include::{snippets}/elections/change-state/election-not-exists/http-response.adoc[]
==== 400 BAD REQUEST [有効ではない状態に変更しようとした場合]
include::{snippets}/elections/change-state/invalid-election-state/http-response.adoc[]
